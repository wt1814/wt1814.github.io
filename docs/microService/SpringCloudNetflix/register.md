

<!-- TOC -->

- [1. 注册中心和配置中心](#1-注册中心和配置中心)
    - [1.1. 注册中心](#11-注册中心)
    - [1.2. 配置中心](#12-配置中心)
    - [1.3. Eureka与nacos](#13-eureka与nacos)

<!-- /TOC -->



# 1. 注册中心和配置中心  
<!-- 
https://blog.csdn.net/wr_java/article/details/119977368
-->

## 1.1. 注册中心
解决了服务之间的自动发现。  
在没有注册中心时候，服务间调用需要知道被调方的地址或者代理地址。当服务更换部署地址，就不得不修改调用当中指定的地址或者修改代理配置。  
而有了注册中心之后，每个服务在调用别人的时候只需要知道服务名称就好，继续地址都会通过注册中心同步过来。  


服务治理简介  
&emsp; 系统功能越来越复杂， 相应的微服务应用也不断增加。  
&emsp; 为了解决微服务架构中的服务实例维护问题， 产生了大量的服务治理框架和产品。这些框架和产品的实现都围绕着服务注册与服务发现机制来完成对微服务应用实例的自动化管理。  

* 服务注册  
&emsp; 当微服务均启动，并向注册中心注册自己的服务之后，注册中心就会维护类似下面的一个`服务清单`。另外，服务注册中心还需要以心跳的方式去监测清单中的服务是否可用，若不可用需要从服务清单中剔除，达到排除故障服务的效果。  


    |服务名	|位置|
    |---|---|
    |服务A	|192.168.0.100:8000、192.168.0.101:8000|
    |服务B	|192.168.0.100:9000、192.168.0.101:9000、192.168.0.102:9000|

* 服务发现  
&emsp; 调用方需要向服务注册中心咨询服务，并获取所有服务的实例清单，以实现对具体服务实例的访问。比如，现有服务C希望调用服务A，服务C就需要向注册中心发起咨询服务请求，服务注册中心就会将服务A的位置清单返回给服务C，如按上例服务A的情况，C便获得了服务A的两个可用位置192.168.0.100:8000和192.168.0.101:8000。当服务C要发起调用的时候，便从该清单中以某种轮询策略取出一个位置来进行服务调用。  


## 1.2. 配置中心  
&emsp; 由于每个服务都需要必要的配置信息才能运行，所以一套集中式的、动态的配置管理设施是必不可少的。  



## 1.3. Eureka与nacos

&emsp; [Spring Cloud Eureka](/docs/microService/SpringCloudNetflix/Eureka.md)  
&emsp; [nacos](/docs/microService/SpringCloudNetflix/nacos.md)  

