---
title: 哈希
date: 2020-06-05 00:00:00
tags:
    - 算法
---

<!-- TOC -->

- [1. 哈希表](#1-哈希表)
    - [1.1. 哈希表基本概念](#11-哈希表基本概念)
        - [1.1.1. 哈希函数](#111-哈希函数)
        - [1.1.2. 哈希因子](#112-哈希因子)
        - [1.1.3. 处理冲突](#113-处理冲突)
    - [1.2. 题型](#12-题型)

<!-- /TOC -->

# 1. 哈希表  
## 1.1. 哈希表基本概念  
&emsp; 哈希表也称散列表，Hash表是一种根据关键字值（key - value）而直接进行访问的数据结构。  
&emsp; 哈希表基于数组，通过把关键字映射到数组的某个下标来加快查找速度，但是又和数组、链表、树等数据结构不同，在这些数据结构中查找某个关键字，通常要遍历整个数据结构，也就是O(N)的时间级，但是对于哈希表来说，只是O(1)的时间级。  
&emsp; 哈希数据结构的性能取决于三个因素：哈希函数、哈希因子、处理冲突方法。  

### 1.1.1. 哈希函数  
&emsp; 散列函数能使对一个数据序列的访问过程更加迅速有效，通过散列函数，数据元素将被更快地定位。常用Hash函数有：  
1. 直接寻址法。取关键字或关键字的某个线性函数值为散列地址。即H(key)=key或H(key) = a·key + b，其中a和b为常数（这种散列函数叫做自身函数）  
2. 数字分析法。分析一组数据，比如一组员工的出生年月日，这时我们发现出生年月日的前几位数字大体相同，这样的话，出现冲突的几率就会很大，但是我们发现年月日的后几位表示月份和具体日期的数字差别很大，如果用后面的数字来构成散列地址，则冲突的几率会明显降低。因此数字分析法就是找出数字的规律，尽可能利用这些数据来构造冲突几率较低的散列地址。  
3. 平方取中法。取关键字平方后的中间几位作为散列地址。  
4. 折叠法。将关键字分割成位数相同的几部分，最后一部分位数可以不同，然后取这几部分的叠加和（去除进位）作为散列地址。  
5. 随机数法。选择一随机函数，取关键字作为随机函数的种子生成随机值作为散列地址，通常用于关键字长度不同的场合。  
6. 除留余数法。取关键字被某个不大于散列表表长m的数p除后所得的余数为散列地址。即 H(key) = key MOD p,p<=m。不仅可以对关键字直接取模，也可在折叠、平方取中等运算之后取模。对p的选择很重要，一般取素数或m，若p选的不好，容易产生碰撞。  

&emsp; 注：HashMap并没有直接采用取模法（index = HashCode(Key)%Array.length），而是利用了位运算来优化性能。  

### 1.1.2. 哈希因子  
&emsp; 哈希因子是表示Hsah表中元素的填满的程度，若哈希因子越大，则填满的元素越多，这样的好处是：空间利用率高了,但冲突的机会加大了。反之,加载因子越小，填满的元素越少,好处是冲突的机会减小了，但空间浪费多了。  

### 1.1.3. 处理冲突
&emsp; 理想情况下，两个不同的关键字映射到不同的单元，然而由于数组单元有限，关键字范围可能远超数组单元，因此就会出现两个关键字散列到同一个值得时候，这就是散列冲突。  
&emsp; 常用的哈希冲突解决方法有两类，开放寻址法和拉链法。  
&emsp; 处理冲突的方法决定了哈希表的数据结构。采用开放地址法，哈希表的数据结构是一维数组；采用链地址法，哈希表的数据结构是数组加链表。  
&emsp; 在Java中ThreaLocal所使用的是开放寻址法；HashMap使用拉链法。  

## 1.2. 题型  


